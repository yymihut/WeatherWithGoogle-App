(this.webpackJsonpforecast=this.webpackJsonpforecast||[]).push([[0],{23:function(e,t,a){e.exports=a(60)},28:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),i=a.n(o),s=(a(28),a(11)),l=a.n(s),c=a(22),u=a(3),p=a(4),m=a(6),d=a(5),h=(a(30),a(31),function(e){return r.a.createElement("header",{className:"header"},r.a.createElement("p",{id:"headerParagraf"},"Vremea in ",e.name),r.a.createElement("div",{className:"info"},"Pt info despre vreme in alta zona faceti pe harta un click in zona respectiva"))}),g=(a(32),a(10)),f=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.props.onchange(e.target.value)},n.mapStyles={top:"130px",height:"60vh",width:"100%",display:"flex"},n.state={lat:0,lng:0},n}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(g.b,{googleMapsApiKey:"AIzaSyA_7WB0qubHUgC5vKgzaDQp5X37GM3sGhs"},r.a.createElement(g.a,{mapContainerStyle:this.mapStyles,zoom:13,center:this.props.defaultCenter,onClick:function(t){var a=t.latLng.toString().replace(/[{()}]/g,"").split(",");console.log(a),e.setState({lat:parseFloat(a[0].trim()),lng:parseFloat(a[1].trim())}),console.log("GoogleMap",e.state),console.log("this.props.defaultCenter",e.props.defaultCenter),e.props.onchange(a)}},r.a.createElement(g.c,{position:this.state.lat?this.state:this.props.defaultCenter})))}}]),a}(n.Component),v=(a(33),function(e){return r.a.createElement("div",{className:"cont"},r.a.createElement("p",{id:"title"},"Vremea azi ",e.timezone," in ",e.name," "),r.a.createElement("div",{className:"datas"},r.a.createElement("p",null,"Umiditate : ",e.umiditate," %"),r.a.createElement("p",null,"Soarele rasare : ",e.rasarit," "),r.a.createElement("p",null,"Soarele apune : ",e.apus," "),r.a.createElement("p",null,"Temperatura : ",e.temp," grd Celsius "),r.a.createElement("p",null,"Presiune : ",e.presiune," mb")))}),E=(a(34),a(9)),w=a.n(E),y=function(e){return r.a.createElement("div",{className:"container",key:w.a.generate()},r.a.createElement("div",{className:"Card"},r.a.createElement("div",null,r.a.createElement("p",{id:"title"},"Vremea in ",e.name," "),r.a.createElement("div",{className:"descriere"},r.a.createElement("p",null,"Descriere  : ",e.weather_description," "),r.a.createElement("div",{className:"icon",style:{background:"url(http://openweathermap.org/img/wn/".concat(e.weather_icon,"@2x.png)")}}))),r.a.createElement("div",{className:"data"},r.a.createElement("p",null,"Nori : ",e.clouds," %"),r.a.createElement("p",null,"Umiditate : ",e.humidity," %"),r.a.createElement("p",null,"Soarele rasare : ",e.sunrise,"  "),r.a.createElement("p",null,"Soarele apune : ",e.sunset," "),r.a.createElement("p",null,"Temp min : ",e.tempMin," grd C "),r.a.createElement("p",null,"Temp max : ",e.tempMax," grd C "),r.a.createElement("p",null,"Presiune : ",e.pressure,"  mb"),r.a.createElement("p",null,"Indice UV : ",e.uvi," uvi"),r.a.createElement("p",null,"Viteza vant : ",e.wind_speed," m/s"))))},C=a(12),M=a.n(C),b=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).componentDidUpdate=function(e){console.log("componentDidUpdate---- this.state",n.props.lat),console.log("componentDidUpdate",n.state.lat,"----",e.lat),n.props.lat!==e.lat&&n.props.lng!==e.lng&&(n.getCurrentWeather(n.props.lat,n.props.lng),n.getForecast(n.props.lat,n.props.lng))},n.timeConverter=function(e){var t=new Date(1e3*e),a=t.getFullYear(),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],r=t.getDate(),o=t.getHours(),i=t.getMinutes(),s=t.getSeconds();return{timeDateMonthYearHour:r+" "+n+" "+a+"  la ora "+o+":"+i+":"+s,timeDateMonth:r+" "+n,timeHour:" la ora "+o+":"+i+":"+s}},n.forecastCards=function(){return r.a.createElement(r.a.Fragment,null,n.state.forecast.map((function(e,t){return r.a.createElement(y,{key:w.a.generate(),name:n.timeConverter(e.dt).timeDateMonth,clouds:e.clouds,humidity:e.humidity,pressure:e.pressure,sunrise:n.timeConverter(e.sunrise).timeHour,sunset:n.timeConverter(e.sunset).timeHour,uvi:e.uvi,wind_speed:e.wind_speed,tempMin:e.temp.min,tempMax:e.temp.max,weather_description:e.weather[0].description,weather_icon:e.weather[0].icon})})))},n.state={lat:n.props.lat,lng:n.props.lng,data:{dt:"",main:{temp:"",pressure:"",humidity:""},name:"",sys:{sunrise:"",sunset:""},timezone:"",weather:{description:"",icon:"",main:""}},forecast:[]},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){console.log("curr location",this.props.lat,this.props.lng),this.getCurrentWeather(this.props.lat,this.props.lng),this.getForecast(this.props.lat,this.props.lng)}},{key:"getCurrentWeather",value:function(e,t){var a=this;M.a.get(" https://api.openweathermap.org/data/2.5/weather?lat=".concat(e,"&lon=").concat(t,"&units=metric&appid=").concat("2ca9ca04865ce518fae4c576a4ef76ec"," ")).then((function(n){a.setState({lat:e,lng:t,data:{dt:a.timeConverter(n.data.dt).timeDateMonthYearHour,main:{temp:n.data.main.temp,pressure:n.data.main.pressure,humidity:n.data.main.humidity},name:n.data.name,sys:{sunrise:a.timeConverter(n.data.sys.sunrise).timeDateMonthYearHour,sunset:a.timeConverter(n.data.sys.sunset).timeDateMonthYearHour},timezone:n.data.timezone,weather:{description:n.data.weather[0].description,icon:n.data.weather[0].icon,main:n.data.weather[0].main}}})}))}},{key:"getForecast",value:function(e,t){var a=this;M.a.get("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(e,"&lon=").concat(t,"&units=metric&appid=").concat("2ca9ca04865ce518fae4c576a4ef76ec")).then((function(e){a.setState({forecast:e.data.daily})}))}},{key:"render",value:function(){var e=this,t=this.state.data,a=t.name,n=t.main,o=t.sys,i=t.dt,s=n.humidity,l=n.temp,c=n.pressure,u=o.sunrise,p=o.sunset;return r.a.createElement("div",{className:"WeatherPage"},r.a.createElement(h,{name:this.state.data.name}),r.a.createElement("div",{className:"inputs"},r.a.createElement("label",null,"Lat"),r.a.createElement("input",{value:this.state.newLat?this.state.newLat:this.state.lat,readOnly:!0}),r.a.createElement("label",null,"Lng"),r.a.createElement("input",{value:this.state.newLng?this.state.newLng:this.state.lng,readOnly:!0})),r.a.createElement(f,{defaultCenter:this.props.coords,onchange:function(t){e.props.functionMap(t)}}),r.a.createElement(v,{umiditate:s,rasarit:u,apus:p,temp:l,presiune:c,name:a,timezone:i}),r.a.createElement("p",{className:"prognoza"},"Prognoza vremii in ",this.state.data.name," pentru 8 zile  "),this.forecastCards())}}]),a}(n.Component),k=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).takeCoordonatesFromMapClick=function(e){n.setState({lat:parseFloat(e[0].trim()),lng:parseFloat(e[1].trim())}),console.log("parinte",n.state)},n.state={lat:46.762716,lng:23.5585658},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;navigator.geolocation.getCurrentPosition(function(){var t=Object(c.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.coordinates={lat:a.coords.latitude,lng:a.coords.longitude},e.setState({lat:a.coords.latitude,lng:a.coords.longitude}),console.log("curr location",e.state.lat,e.state.lng);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"render",value:function(){return r.a.createElement(b,{lat:this.state.lat,lng:this.state.lng,coords:this.coordinates,functionMap:this.takeCoordonatesFromMapClick})}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[23,1,2]]]);
//# sourceMappingURL=main.46af237d.chunk.js.map